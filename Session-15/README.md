#  2022 Epsilon Net Coding School - Μάθημα 15

### Θοδωρής Τσιρπάνης

## Πως μπορούμε να κάνουμε ένα Request σε ένα εξωτερικό API χωρίς να γνωρίζει ολόκληρο το url μας;

Αναφέρεται η ερώτηση στο `Referer` header; Αν ναι, μπορούμε να μη το στείλουμε καθόλου, ή να στείλουμε μόνο το κομμάτι που ταυτοποιεί το origin, [όπως έχουν αρχίσει να κάνουν οι browsers](https://en.wikipedia.org/wiki/HTTP_referer) για λόγους ιδιωτικότητας. Οι browsers μπορούν να ρυθμίσουν πόσο από το URL της προέλευσης του αιτήματος θα στείλουν με διάφορους τρόπους που περιγράφονται μεταξύ άλλων στο https://geekthis.net/post/hide-http-referer-headers/.

Αν η ερώτηση αναφέρεται στο `Origin` header, δε μπορούμε να πούμε στον browser να μην τον στείλει, αλλά ούτως ή άλλως δεν στέλνει ολόκληρο το URL.

## Αν κάνω ενα GET request και ζητήσω ενα jpeg image, το response τι content-type πρεπει να εχει;

`image/jpeg`

## Πως μπορώ να κάνω ένα GET request και το περιεχόμενο του να κρατηθεί στην cache για 1 μέρα;

Με το header `Cache-Control: max-age=86400`. Η αριθμητική τιμή υποδηλώνει τον αριθμό των δευτερολέπτων σε μια μέρα.

## Μπορώ να έχω μια εφαρμογή που κάνει μόνο GET requests;

Ναι. Είναι πολύ συνηθισμένο.

## Μπορώ να έχω μια εφαρμογή που κάνει μόνο POST requests;

Λίγο ασυνήθιστο, αλλά ναι, γιατί όχι, κανείς δε με εμποδίζει. Ένα σύστημα με πολύ αυστηρούς ελέγχους πρόσβασης στους πόρους του θα μπορούσε να χρησιμοποιήσει αποκλειστικά αιτήματα POST.

## Τι status code περιμένω από ένα API αν δεν έχω στείλει ένα υποχρεωτικό πεδίο;

Το 400.

## Τι status code περιμένω από ένα API αν δεν υπάρχει επικοινωνία με τη βάση;

Το 500.

## Μπορώ να κάνω Login με GET request;

Μπορώ, κανείς δε με εμποδίζει, αλλά [δε θεωρείται καλή πρακτική](https://security.stackexchange.com/questions/147188) επειδή τα διαπιστευτήρια περνιούνται ως παράμετροι στο URL και υπάρχει κίνδυνος να διατηρηθούν στο ιστορικό του browser ή σε κάποιο σύστημα logging στον server.

## Ποια είναι η διαφορά ανάμεσα στο PUT και στο POST;

Το PUT χρησιμοποιείται για _ενημέρωση_ δεδομένων (το U από το CRUD) και είναι idempotent (που σημαίνει ότι αν σταλεί πολλές φορές το ίδιο ο server θα πρέπει να συμπεριφερθεί λες και εστάλη μόνο μια φορά), ενώ το POST χρησιμοποιείται για _δημιουργία_ δεδομένων (το C από το CRUD) και _δεν_ είναι idempotent (γι' αυτό ο browser μας ζητάει επιβεβαίωση πριν ξαναπροσπαθήσει ένα αποτυχημένο αίτημα POST μιας φόρμας).

Μέρος της απάντησης προήλθε από το https://www.geeksforgeeks.org/diffrence-between-put-and-post-http-requests/.

## Ποια μέθοδο θα πρέπει να χρησιμοποιήσω για να «ανεβάσω» ένα αρχείο;

Κάποια μέθοδο που επιτρέπει request body, όπως POST, PUT ή PATCH, ανάλογα με τη φύση του αιτήματος.
